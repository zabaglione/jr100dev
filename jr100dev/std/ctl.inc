; high-level control structure macros

MACRO VAR NAME, INIT
NAME:  .byte \INIT
ENDM

MACRO FOR_BEGIN COUNTER, START, LIMIT
        LDAA #\START
        STAA COUNTER
\@FOR_TOP:
        LDAA COUNTER
        CMPA #\LIMIT
        BGT \@FOR_END
ENDM

MACRO FOR_END COUNTER
        INC COUNTER
        BRA \@FOR_TOP
\@FOR_END:
ENDM

MACRO WHILE_BEGIN
\@WHILE_START:
ENDM

MACRO WHILE_CHECK COND
        LDAA \COND
        BEQ \@WHILE_END
ENDM

MACRO WHILE_END
        BRA \@WHILE_START
\@WHILE_END:
ENDM

MACRO IF_EQ COND, VALUE
        LDAA \COND
        CMPA #\VALUE
        BNE \@IF_END
ENDM

MACRO IF_END
\@IF_END:
ENDM

